<?xml version="1.0" encoding="UTF-8" ?>
<Script ObjectRecordID="59">
	<FileName />
	<ScriptText>
Tanks1_ScriptId = 1010;
Tanks2_ScriptId = 1020;
DISPERSION = 300;

-----------------------------------------------------------------------------Chapter1
-----------------------------------------Objective0_PRIMARY_STAFF
function RevealObjective0()
    DisplayTrace(&quot;StartMission!!!&quot;);
    Wait(3);
	ObjectiveChanged(0, 1);
	Trace(&quot;Objective0_STAFF is reveal&quot;);
    DisplayTrace(&quot;Protect its staff&quot;);
end;

function Objective0()
	if ((GetNUnitsInArea(0, &quot;Staff&quot;) &lt;= 0) and (GetNUnitsInArea(2, &quot;Staff&quot;) &gt;= 1)) then
        return 1;
    end;
end;

function FailObjective0()
	ObjectiveChanged(0, 3);
	Wait(3);
	Loose(0);
	Trace(&quot;Objective0_STAFF fail&quot;);
end;
-----------------------------------------Objective1_PRIMARY_CANNES
function RevealObjective1()
    Wait(10);
	ObjectiveChanged(1, 1);
    Trace(&quot;Objective1_CANNES is reveal&quot;);
    DisplayTrace(&quot;Seize city in the east&quot;);
end;

function Objective1()
	if ((GetNUnitsInArea(2, &quot;Cannes&quot;) &lt;= 0) and (GetNUnitsInArea(0, &quot;Cannes&quot;) &gt;= 1)) then
    return 1;
    end;
end;

function CompleteObjective1()
	ObjectiveChanged(1, 2);
	Wait(3);
	Win(0);
	Trace(&quot;Objective1_CANNES complete&quot;);
end;
-----------------------------------------Objective2_SECOND_STATION
function RevealObjective2()
    Wait(18);
	ObjectiveChanged(2, 1);
    Trace(&quot;Objective2_STATION is reveal&quot;);
end;

function Objective2()
	if ((GetNUnitsInArea(2, &quot;Station&quot;) &lt;= 0) and (GetNUnitsInArea(0, &quot;Station&quot;) &gt;= 1)) then
    return 1;
    end;
end;

function CompleteObjective2()
	ObjectiveChanged(2, 2);
	EnableReinforcementPoint( 0, 4, 1 );
	Trace(&quot;Objective2_STATION complete&quot;);
end;
-----------------------------------------Objective3_SECOND_BRIDGE_1
function RevealObjective3()
    Wait(26);
	ObjectiveChanged(3, 1);
    Trace(&quot;Objective3_BRIDGE_1 is reveal&quot;);
    StartThread( Check_Staff_Attack );
    Trace(&quot;Start_Attack1&quot;);
end;

function Objective3()
	if ((GetNUnitsInArea(2, &quot;Bridge_1&quot;) &lt;= 0) and (GetNUnitsInArea(0, &quot;Bridge_1&quot;) &gt;= 1)) then
    return 1;
    end;
end;

function CompleteObjective3()
	ObjectiveChanged(3, 2);
	Trace(&quot;Objective2_BRIDGE_1 complete&quot;);
	Wait(2);
	StartThread( RevealObjective4 );
	Trigger( Objective4, CompleteObjective4 );
	StartThread( RevealObjective5 );
	Trigger( Objective5, CompleteObjective5 );
	StartThread( RevealObjective6 );
	Trigger( Objective6, CompleteObjective6 );

end;

------------------------------------------------------------------------------Chapter2
-------------------------------------------Objective4_A_FIELD
function RevealObjective4()
    Wait(3);
	ObjectiveChanged(4, 1);
    Trace(&quot;Objective4_A_field is reveal&quot;);
end;

function Objective4()
	if ((GetNUnitsInArea(2, &quot;A_field&quot;) &lt;= 0) and (GetNUnitsInArea(0, &quot;A_field&quot;) &gt;= 1)) then
    return 1;
    end;
end;

function CompleteObjective4()
	ObjectiveChanged(4, 2);
	EnableReinforcementPoint( 0, 5, 1 );
	EnableReinforcementPoint( 0, 6, 1 );
	SetIGlobalVar( &quot;temp.Afield,objective&quot;, 2 );
	Wait(2);
	StartThread( Check_Afield_Attack );
	StartThread( Afield_incomplete );
	Trace(&quot;Objective2_A_field complete&quot;);
end;
-------------------------------------------Objective5_VILLAGE
function RevealObjective5()
    Wait(10);
	ObjectiveChanged(5, 1);
    Trace(&quot;Objective5_Village is reveal&quot;);
end;

function Objective5()
	if ((GetNUnitsInArea(2, &quot;Village&quot;) &lt;= 0) and (GetNUnitsInArea(0, &quot;Village&quot;) &gt;= 1)) then
    return 1;
    end;
end;

function CompleteObjective5()
	ObjectiveChanged(5, 2);
	SetIGlobalVar( &quot;temp.Village,objective&quot;, 2 );
	Trace(&quot;Objective5_Village complete&quot;);
end;
-------------------------------------------Objective6_GUNS
function RevealObjective6()
    Wait(18);
	ObjectiveChanged(6, 1);
    Trace(&quot;Objective6_Guns is reveal&quot;);
end;

function Objective6()
	if (GetNUnitsInScriptGroup(299, 2) &lt;= 0) then
    return 1;
    end;
end;

function CompleteObjective6()
	ObjectiveChanged(6, 2);
	SetIGlobalVar( &quot;temp.Guns,objective&quot;, 2 );
	Trace(&quot;Objective6_Guns complete&quot;);
end;

--------------------------------------------Attacks
---------------------------------Staff

function Check_Staff_Attack()
	while 1 do
		Wait( 20 + RandomInt( 120 ) );
		if (( GetNUnitsInScriptGroup( Tanks1_ScriptId ) &lt;= 0 ) and (GetIGlobalVar(&quot;temp.Guns,objective&quot;, 1) ~= 2)) then
			LandReinforcement2( 2, 166, 9, 1, Tanks1_ScriptId ); 
			Wait( 2 );
			CmdMultipleDisp( ACT_SWARM, Tanks1_ScriptId, DISPERSION, 444, 10950 );
		end;
	end;
end;
---------------------------------A_field_ATTACK
function Check_Afield_Attack()
	while 1 do
		Wait( 20 + RandomInt( 90 ) );
		if (( GetNUnitsInScriptGroup( Tanks2_ScriptId ) &lt;= 0 ) and (GetIGlobalVar(&quot;temp.Afield,objective&quot;, 1) == 2) and (GetIGlobalVar(&quot;temp.Village,objective&quot;, 1) ~= 2)) then
			LandReinforcement2( 2, 165, 9, 2, Tanks2_ScriptId ); 
			Wait( 2 );
			CmdMultipleDisp( ACT_SWARM, Tanks2_ScriptId, DISPERSION, 808, 2502 );
		end;
	end;
end;
-------------------------------- Air_REINF
function Afield_incomplete()
	while 1 do
		Wait( 3 );
		if ((GetNUnitsInArea(0, &quot;A_field&quot;) &lt;= 0) and (GetNUnitsInArea(2, &quot;A_field&quot;) &gt;= 1)) then
			ObjectiveChanged(0, 1);
			StartThread( Afield_complete );
			EnableReinforcementPoint ( 0, 5, 0 );
			EnableReinforcementPoint ( 0, 6, 0 );
			Trace(&quot;Objective_AERFIELD reveal again!!!!!!!!&quot;);
			SetIGlobalVar( &quot;temp.Afield,objective&quot;, 1 );
			break;
		end;	
	end;
end;

function Afield_complete()
	while 1 do
		Wait( 3 );
		if ((GetNUnitsInArea(0, &quot;A_field&quot;) &gt;= 1) and (GetNUnitsInArea(2, &quot;A_field&quot;) &lt;=0)) then
			ObjectiveChanged(0, 2);
			StartThread( Afield_incomplete );
			EnableReinforcementPoint ( 0, 5, 1 );
			EnableReinforcementPoint ( 0, 6, 1 );
			Trace(&quot;Objective_AERFIELD complete again!!!!!!!&quot;);
			SetIGlobalVar( &quot;temp.Afield,objective&quot;, 2 );   
			break;
		end;	
	end;
end;



----------------------------MAIN

StartThread( RevealObjective0 );
Trigger( Objective0, FailObjective0 );
StartThread( RevealObjective1 );
Trigger( Objective1, CompleteObjective1 );
StartThread( RevealObjective2 );
Trigger( Objective2, CompleteObjective2 );
StartThread( RevealObjective3 );
Trigger( Objective3, CompleteObjective3 );






</ScriptText>
</Script>
