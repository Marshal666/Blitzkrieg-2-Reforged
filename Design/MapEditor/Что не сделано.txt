/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
ПРОБЛЕМЫ:

Очень долго стартует диалог редактирования линка

Нельзя определить наличие папки. Когда можно будет это сделать - переделать систему выделения папки в дереве объектов,
сделать ее такой же как и выделение объектов ( сразу при старте создания дерева ):
Поправить здесь: bool CTreeGDBBrowserBase::IsObjectNameUnique( const string &rszObjectTypeName, const string &rszObjectName )

Дефалтовое значение строки - один пробел, что не правильно!

Что не сделано в DBManipulator
GetType для всех
MultiManipulator
Система установки атрибутов объекту. Объект имеет несколько атрибутов. Created, Modified, Accessed. Создание AttributeManipulator.

При выходе из редактора портятся настройки surround mixer'а. Происходит переключение на новый preset.

Не понимаем запись кавычек в базу

При глубине цвета в 16bit глючит инициализация графического движка - необходимо проверять, что мы находимся в 32bit mode и выдавать диалог с предупреждением

GetAIDirectionByVector - переделать на вызов AI функций
GetVectorByAIDirection

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
НЕ СДЕЛАНО:

При нажатии на кнопку Set Empty при выборе ссылки возвращаются пустое имя, это плохо отражается на запиминании последнего селекшена, надо сделать спец флаг и обрабатывать его, или перенести систему запоминания внутрь диалога (лучше).


При создании объекта в структуре данных NMapInfoEditor::SMapObjectLoadInfo не передаются координаты и поворот объекта - странно, все остальное считывается заранее.

В дереве свойств PropertyControl не работает поиск по элементам в дереве при нажатии на клавиши "A=Z", пример смотри в окне эксплорера

Подчистить все что связано со старым типом выбора таблиц (через 3dTab) класс: C3DTabGDBBrowser

Разобраться с цветами моря и озер (сейчас их различить нельзя)

CMapObjectMultiState::SwitchState() - вынести в конфигурационный файл соответсвие имен RPGStasts и выбираемого State
CVSOMultiState::SwitchState() - вынести в конфигурационный файл соответсвие имен VSODesc и выбираемого State

Доделать в CVariant сравнение MultiVariant ( это такой тип ) сейчас просто возвращается false

Вызов проверки на установку LinkID для каждого элемента mapInfoElementMap в отдельности (те кто не подходит - не проставлять линки)

Реализация нереализованных методов в VSOState

Разобраться с константами, в разных местах они являются define, а в других статическими константами

Разобраться почему при нажатии на сопутствующие клавиши (VK_SHIFT, VK_CONTROL) тормозит сцена.

У мостов в RPGStats много лишних полей

Провентилировать работы нового копира CMapInfo Там итспользуется трюк связанный с buildDataBuilder
(может быть необходимо какт-то расширить функциональность CBuildDataBuilder )

При показывании самого верхнего редактора в Property Control при скролировании он показывается в левом верхнем углу

В некоторых экпортерах в разных методах (например ExportObject и FinishExport) используются пути, но они формируются каждый раз наместе.
Необходимо формаровать их централизованно, чтобы не было такого, что один и тот же путь формируется в разных местах.

при необходимости - разделить CObjectBaseRPGStatsExporter на несколько экспортеров с наследованием функциональности

Поправить все предположения, что string::npos равен -1

в PlaneGeometry поставить правильную последовательность параметров методов ( сначала указатели, потом ссылки )

подправить окно со списком Undo Redo чтобы при нажатии на ESC или тыкании мимо окна ничего не происходило

Перенести все helper functions из CManipulatorManager прямо в IManipulator

Внимательнее проверять условия работы с деревьями во время заполнения дерева (F2 вызывает редактирование элемента дерева, перенос мышкой инициируется)

закрыть от изменений CUndoDataList undoDataList в контроллерах

По разному работают методы-помошники в контроллерах: CFolderController и CObjectController

Во всех местах, где требуется выполнения функции Builder Exporter Editor повтор кода по проверке наличия. Убрать.

Подумать над полным Undo для CFolderCallback

Вынести диалог создания BuildData в отдельный интерфейс занимающийся показыванием такого рода диалогов

Переписать вызовы CreateUndoOperation на новый механизм работы добавления UndoData в UndoOperation

Сбрасывать кеширование с манипуляторов при обработке Undo и Redo в UndoTarget'aх: CPCMainTreeControl

Можно редактировать поле с ID объекта

При недосчитанном дереве при изменении объектов или полей происходят странные глюки. Есть подозрение на многопоточность.

Не правильно посылаются UndoOperations на изменения размеров столбцов, Пока не прокликаешься на все закладки,
UndoTarget не занегистрируется и не примет уведомления о необходимости обновить ширину

Разобраться с передачей rszPropertyPrefix

Переписать //CRAP{ Необходиом убрать наружу - вызывать явно
CUndoOperationContainer::Add

В Child frame прояснить методы
virtual void Enter() = 0;
virtual void Leave() = 0;

Переписать хелперы для UndoOperations чтобы они сразу меняли базу

>>
Разобраться в SkeletonExporter и AnimationBuilder - код записи данных в Animation повторяется
AnimationBuilder уже потерял актуальность - всё уже сделано по-другому
<<

Дописать CPCBuildDataDialog в соответствие с установленными флагами
Путь до объекта не давать редактировать в Builder.
Обработать Checkbox с настройкой необходимости экспорта
Обработать Checkbox с настройкой необходимости редактирования

Разобраться со слайдером для Float. Требуется вразумительная работа при неограниченной точности. Надо взять максимальное расстояние и использовать ее в качестве nPowerPresision

Переделать операцию Move на нерекурсивный вызов Manipulator ( там поддерживается рекурсивный перенос объектов ) 

CSortTree сделать обратное кеширование ID на имя и имя на ID

Дергается селекшн в property control при выделении объектов в Browser Tree

Косяки в VSOState 
1. Стартовое изменение размеров из-за генерации сплайна
2. Отсутствует вразумительная реализация сведения в ноль границ
3. Не правильно обрабатывается подьем высот и расширение дорог по отношению к курсору мыши ( необходимо более точно растягивать точки )

Приделпть запоминание последнего состояния шорткатов

Если элемент в дереве объектов один то на него невозможно установить select

в CTerrainBuilder вставить проверки на существование имен создаваемых объектов

При редактировании имени объекта или каталога подключить панель инструментов ( редактирование выделения (CUT COPY PASTE ...) )

Проверять имена объектов на наличие запрещенных символов ( '\' '.' ). При создании объектов в основном, и при переименовании

В получении 
GetDescription( string *pszDescription )
IsValidBuildData( interface IManipulator *pBuildDataManipulator, string *pszDescription )
void CPCBuildDataDialog::UpdateOKButton()
//CRAP{ PLAIN_TEXT

Вынести в DLL:
Splash Screen
AboutDialog
HelpSystem ( сделать ее сначало )
SpecificUserData

Запоминать расположение окна редактора и состояние Maximized

В конструкторах убрать требования к Singleton в ассертах (пример смотри в ICWInput).
Проставить проверку в самом начале программы на синглетоны и структуру SUserData ( она не должна возвращать нулевой указатель ни под каким видом )

Передать все редакторы. Вствить методы:
static bool GetPCItemStringValue( string *pszValue, const CVariant &rValue, const SPropertyDesc *pPropertyDesc );
static bool GetPCItemValue( CVariant *pValue, const string &rszValue, const SPropertyDesc *pPropertyDesc );
в соответствующих гобальных функциях вызывать эти методы для каждого типа.

Обновлять описатель объекта в строке статуса под Property Control сразу после старта построения дерева свойств

При копировании, удалении элементов - производить синхронизацию по таймеру, как при построении дерева
Запретить производить операции с деревом, пока не скопируются или не удалятся все элементы.
Выводить прогресс в StatusBar

Подумать над обьединением панелек ( toolbars ) для работы с деревьями, PropertyControl И ObjectsTree

SPropertyDesc - проставить всем значения по умолчанию в конструкторе

Сделать в VSOInputState цвета линий настраиваемыми ( не вбитыми в код ) попробовать засунуть их в UserData

поправить
//CRAP{ HASH_SET
//CRAP{ REVERSE_ITERATOR

Дороги при изменении высот по краям могут сильно менять свою ширину. ( сдвиг точки вниз + сдвиг точки вверх = большая ширина )
Подумать как можно получать высоты из пересечения круга и ломаной проходящей через центр круга

Сделать специальный интерфейс для получения уникальных ID из набора, необходимо для различных Singleton где элементы складываются в HASH_MAP ( SetCommandHandler( UINT nType, ... ) )
Подумать над системой хранения ID и их общего доступа, плохо когда ID объектов находятся в enum т.к. приводит к перекомпиляции всего кода для всех объектов с ID

При обработке SetValue в UndoTarget понимать запись элемента массива по ID ( наверно надо сделать дополнительное поле у HTREEITEM с строкой ID, при формировании имени и поиске HTREEITEM учитывать две формы записи )

При запоминании HTREEITEM для копирования в списке объектов ( надо также запоминить имена под которыми их скопировали, иначе они копируютсфя под новыми именами )

Выводить имя текущей таблицы где-нибудь ( в заголовке окна для основного списка таблиц ) в верхней метке для окна редактирования линка

Подумать на tooltips для Property Control и для Tab Control со списком таблиц

Расширить описатель в Property Control ( нижнее строковое поле ) до трёх строк или больше

При редактировании ссылки текстовый редактор включать не под списком полей а вместо него ( tab control )
При передаче из BIG TEXT EDITOR в редактор необходимо чекать рестрикшны на значения задаваемые редактором ( как пример - float_combo )
Сделать отдельное Docking Window для текстового редактора

у редакторов float сделать precision по умолчанию %g

Когда в сцене нет ничего ( нет активного редактора ) не надо переинициализировать directX в CCWInput::OnPaint

Keyborad shortcuts на UNDO

Запоминать положение камеры
Сбрасывать положение камеры

Обрабатывать tab button в диалогах выбора ссылок на обьект. Проверить диалоги на правильную работу TAB BUTTON

При считывании имен таблиц из TablerManipulator, GetValue() возвращает путь до таблицы, GetID() возвращает ID типя в игровой базе
необходимо закешировать все это, и сделать диалог выбора таблиц с деревьями: древовидная структура таблиц при выборе их из списка

реализовать метод: C3DTabGDBBrowser::SetObjectSet() ( выделить указанные объекты в списке таблиц )

Прикрутить камеру к редактору: Взять из игры всю систему
При работе c камерой сделать систему с таймером (Запускать таймер по нажитию клавишиб если нет никакой нажатой клавиши - таймер убирать, если таймер запущен - не запускать заново )
По таймеру обновлять окно редактора (после постановки объекта)

Вставить при выводе диалогов и контексных меню:
до диалога:
Singleton<ICommandHandlerContainer>()->HandleCommand( COMMAND_HANDLER_ID_SCENE, ID_SCENE_ENABLE_INPUT, 0 );
после диалога или контекстного меню:
Singleton<ICommandHandlerContainer>()->HandleCommand( COMMAND_HANDLER_ID_SCENE, ID_SCENE_REMOVE_INPUT, 0 );
Singleton<ICommandHandlerContainer>()->HandleCommand( COMMAND_HANDLER_ID_SCENE, ID_SCENE_ENABLE_INPUT, 1 );

Переделать систему подключения внешнего редактора multiStringEditor.
Если в поле стоит модификатор - внешний редактор multiStringeditor, его необходимо показывать и заполнять.
Если такого флага не стоит то его показывать не надо. Такую систему сделать в обоих диалогах (Property Control, Link Property Control)

Доделать ScintillaEditor ( настройка внешнего вида, передача сообщений, toolbar, menu, statusbar, сервисные функции поиска замены и т.д. )

поправить:
//CRAP{ STRIGHT_TEXT
//CRAP{ STRIGHT_PATH

обновлять надпись при редактировании MultilineStringEditor! ( SetPCItemView )
Обновлять MultilineStringEditor при редактировании основным редактором

Не кешируются следующие поля: ForceRelativeParam_StringParam, ForceRelativeParam_IntParam, сделать аналогично: ForceRelativeParam_ReadOnly
Провентилировать ситуацию со stringParam ( опрашивается только у нижнего уровня, а не с помощью метода ForceRelativeParam_StringParam)
Провентилировать ситуацию с intParam ( опрашивается только у нижнего уровня, а не с помощью метода ForceRelativeParam_IntParam)

С Shift раскывать все дерево и наоборот ( по клику на крестик в дереве )

Перейти на новый hash_set

попробовать сделать меню и панели инструментов у диалога установки связи с объектом базы

Подсвечивать объекты для Cut в дереве объектов

Оптимизировать пойск принадлежит ли hItem клипбоарду или нет CSSortTree ( вести дополнительный Hash_map ).

Select All не работает в дереве объектов

Копировать цвета
при переносе и копировании - копировать цвета у обьектов ( Через линки на дерево ).

Many editors
Keyboard Shortcuts для дерева объектов и для Property Control (DowbleClick - Select или Load для списка объектов)

Tool bar: Property Control Fit

Переделать в стингрее
 двигать колонку полностью (LVHT_COLUMNSEP OnLButtonDown)
 показывать селекшн другим цветом (rgbNoFocusBk)

сплеш скрин
устанавливать главное окно в состояние максимизации при старте если оно таким было SMainFrameParams

оптимизировать перечитывание деревьев с обьектами при смене показываемых таблиц (создавать дерево в момент активизации таблицы, не создавать таблицы заново при смене количества таблиц)
подумать над сортировкой деревьев ( в списках объектов )

оптимизировать поиск по существующим каталогам нового каталога ??? ( оптимизировать поиск объектов в дереве объектов FolderManipulator )
запоминать раскрытые ветки деревьев

поддержка копирования с неодинаковыми манипуляторами ( bool CManipulatorManager::CloneDBManipulator( ... ) )

при нажатии на кнопки соответствующие отдельным окнам, если окна не видны - показывать окна.

Система Help, по ID сообщений

Ограничение на длинну Undo Buffer

Вставить HourGlass на открытие объекта манирулятором

при старте редактора, показывать его тип и имя редактируемого объекта в заголовке програмы(редактора) (сделать вивтуальный метод редактора)

Проверить что все операции с манипуляторами обрабатывают невозможность удаления некоторых объектов. Проверить, что работа с ними сделана правильно, операции манипулятора могут возвращать false.

Фокус не переходит в сцену. SetFocus у CCWInput не вызывается.

При UNDO закрывается редактор в Property Control - это плохо т.к. падает при редактировании того же самого обьекта.

Подумать над редакторами для узлов структур (в типе возвращается, что это не структура, а какой-то редактор)

проверять наличие файлов и каталогов в указанном месте при экспорте и при установке в Property Control

Разобраться почему при удалении объектов из дерева появляются часы ( HourGrass ) ???
Графические глюки при рисовании иконок в заголовке столбцов в Property Control ???

Проверить систему обновлений для multimanipulator с разными наборами ojectID если один поменялся - остальные должны обновится!

Система Drag & Drop для работы с object link.

Необходимо приделать кнопку восстанавливающую расположение окон по умолчанию (с размерами по умолчанию)

Необходимо оптимизировать обновление Property Control CUndoTarget::Update()

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
СДЕЛАНО:

ID стингрея начинаются с 20000 необходимо это урегулировать, чтобы ID не пересекались?

Убрать Controller 

В Bulder добавить метод Copy

Реализовать метод CSortTreeControl::RenameTreeItem( const string &rszDestination, const string &rszSource );

в InternalInsertObject необходимо передавать тип объекта: const string &rszObjectTypeName 

Устанавливать цвета и обьектам в TREE_GDBBrowserBase

Подумать и спросить у Алексея Галаты, когда можно получать табличные данныеЭ, когда они пересчитываются из базы? 

При переключении на другую таблицу - останавливается таймер создания дерева

Все вызовы CommandHandler из MainFrame сделать через единую систему регистрирования сообщений в CommandHandlerContainer
В Интерфейс ICommandHandlerContainer( Добавляем способ регистрации CommandHandler на MainFrame ).
В MainFrame посылаем сообщения CommandHandler в соответствии с установленными границами сообщений.
Можно создавать свои сообщения ( Menu, Toolbar, и т.д. ) Регтстрировать CommandHandlerID на конкретные границы сообщений
после чего  получать сообщения от пользовательского интерфейса.

При работе Builder'ов обновлять соответствующие таблицы, куда происходит добавление элементов

Сделать автоматический запуск редактора после компоновщика ( с галкой в окне )

Сделать автоматическое обновление данных в Registry по ключу версии

Сделать правильное движение камеры в редакторе. Попробовать сужать FOV с опусканием угла поворотак земле

В PropertyControl при вводе вещественных чисел необходимо делать математическое округление, а не отбрасывание значащих чисел

Глючит кнопка списка REDO ( не показывается список операций )

Косяки в Property Control, который теперь обновляется через Command Handler
1. Сделать обновление данных по сформированному дереву через таймер
2. Сделать посылку команд дереву через новый CommandHandler ( диалоговый )
3. Сделать правильную работу с замаскированным Manipulator чтобы он показывал короткие имена

ITerraEd - Кривое название. Необходимо поменять.

При загрузке новой карты не разрушать Editor а просто делаеть ему Leave и Enter

Цвета элементов ( в списках объектов )
работает постановка цвета для объектов ( только для папок ) в FolderManipulator

При добавлении объекта не работает Export ( Finish export не вызывается )

После создания объекта необходимо запустить его экспорт

Реализовать вызов методов из CEditorContainer
virtual void CreateAdditionalControls( class SECMDIFrameWnd *pParentFrameWnd ) = 0;
virtual void DestroyAdditionalControls( class SECMDIFrameWnd *pParentFrameWnd ) = 0;

При работе с новой системой Builders Необходимо не создавать новый объект а считывать ранее созданный! Если он уже был создан для этого пользователя.
Тогда нам будут выводится старые данные.

Из базы удаляются медленно обьекты ( при множественном селекте )

сцену с дочерним окном тоже перенести в сцену

Очень медленно добавляются элементы в массив если манипулятор большой
Повторяется ошибка с необнулением текещего элемента при построении дерева по таймеру в Property Conrol

Добавление объектов в дерево необходимо разрешить при активном выделении обьекта тоже ( добавлять в каталог уровнем выше )

Разнести по разным местам сохранение ширин колонок для Tree Browser ( в основном окне и в диалоге ).

Не появляется скроллбар в окне дерева объектов ( необходимо экспандить элементы )

При добавлении элемента в закрытый массив не обновляется значок наличия элементов у иконки головы массива

Сделать дополнительные отдельные пункты меню - hierarchic Export, hierarchic force export ( можно подменю ), в панели инструментов кнопки только на экпорт

По DoubleClick на область ввода вызывать метод OnBrowse у CPCStringBrowseEditor

Система оповещения списков объектов (Folder Manipulator) если один из них набор объектов (например в диалоге выбора ссылки на объект) скорее всего это надо делать через UpdateView систему (регтстрировать UndoTarget и обновлять зарегистрированные)

Обновлять активный редактор после экспорта объектов.

сделать хранитель текушего (стартового) каталога, проставлять его при старте 

Отдельный resource.h для моих ресурсов

При добавлении элементов в дерево Объектов, искать объект после которого вставлять элемент ( по алфавиту )

Разобраться с диалогом селекта табличек ( не показывает таблички при загруженном редакторе, пересчитывает таблички при cancel )

Переименовать DWObjectWindow в DWSelectionWindow.

Кеширование данных получаемых из базы в методе PicTextColors()

При работе с именами каталогов не переводить их в нижний регистр, использовать функцию compare_ignore_case или перед сравнением переводить их в нижний регистр

При редактировании имени в дереве объектов при нажатии на Shift происходит сброс редактирования имени

Убивать кеширование цветов и readonly при UNDO REDO операциях

Правильная последовательность полей в манипуляторе ( чтобы не было необходимости сортировать поля )

Кешировать значения опрашиваемые в PicTextColor

Подсвечивать readOnly значения в Property Control

Неправильная работа при опросе значения не существующей папки в FolderManipulator (Создается такая папка)

Получать значение из строки пропуская мягкие разделители после метки, но до значимых элементов, GetFloatValueFromString() ...

Icons
 For Editors

Дописать вызов статической части манипуляторов из Undo если нет Controller при обработке Undo Redo. Сделать изменение объектов во всех редакторах именно через эту функцию (различаются только получение манипулятора). Манипулятор получается через редактор, сделать у редактора метод получения манипуляторов?
Сделать честный update свойств из манипулятора, иначе может случится так, что в дерево добавятся лишние свойства (при insert и delete), если Property Control показывает не только изменившиеся объекты.
Передавать SetManipulator везде false в PropertyControl (написать таки статческую фуекцию изменения)

запоминать раскрытые ветки деревьев (по крайней мере для структур и массивов) ( для Property Control )

Проверить работу Multi_Ref режима, для диалога по выбору ссылки на другой объект.

в Дереве объектов переделать получения типа объекта по его изображению, а не по GetItemData()

Сделать настройку, что отрезать от выделенных путей в Desc

Обновлять Property Control после экспорта объектов.

( подумать об объединении пересекающихся Menu ).

Cut, Copy, Paste в дереве обьектов

Внимательнее сделать FileRefEditor. Доделать DirRefeditor (отрезание каталога указанного при вводе пути, SourceFolder и т.д. передавать в списке значений в Desc: //"All supported Files (*.bzm; *.xml)|*.bzm; *.xml" //"XML files (*.xml)|*.xml" //"BZM files (*.bzm)|*.bzm" //"All Files (*.*)|*.*" и т.д.)

Вбить значения stringParam и intParam (float_input, float_slider, float_combo, int_slider, int_combo) в XSD файл EditorTest.xsd
Проверить работу int Slider Editor в Property Control, сделать по аналогии float Slider

Добавить новый редактор - BIS_STRING_INPUT для ввода больших текстов.
